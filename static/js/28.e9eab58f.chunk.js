"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[28],{6891:function(n,e,t){t.d(e,{Z:function(){return b}});var a=t(70885),r=t(74165),o=t(15861),i=t(15671),s=t(43144),l=t(99811),c=t.n(l),u=t(10499),d=t(63922),p=t(95162),f=t(81384),m=t(31881),g=t.n(m),b=function(){function n(){(0,i.Z)(this,n)}return(0,s.Z)(n,null,[{key:"validate",value:function(n,e){if(e){if(e.image&&!n.type.startsWith("image"))throw new Error((0,u.ag)("fileUploader.image"));if(e.storage.maxSizeInBytes&&n.size>e.storage.maxSizeInBytes)throw new Error((0,u.ag)("fileUploader.size",c()(e.storage.maxSizeInBytes)));var t=v(n.name);if(e.formats&&!e.formats.includes(t))throw new Error((0,u.ag)("fileUploader.formats",e.formats.join(", ")))}}},{key:"upload",value:function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e,t){var a,o,i,s,l,c,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,this.validate(e,t),n.next=7;break;case 4:return n.prev=4,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 7:return a=v(e.name),o=(0,p.Z)(),i="".concat(o,".").concat(a),n.next=12,this.fetchFileCredentials(i,t);case 12:return s=n.sent,l=s.uploadCredentials,c=s.downloadUrl,u=s.privateUrl,n.next=18,this.uploadToServer(e,l);case 18:return n.abrupt("return",{id:o,name:e.name,sizeInBytes:e.size,publicUrl:l&&l.publicUrl?l.publicUrl:null,privateUrl:u,downloadUrl:c,new:!0});case 19:case"end":return n.stop()}}),n,this,[[0,4]])})));return function(e,t){return n.apply(this,arguments)}}()},{key:"fetchFileCredentials",value:function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e,t){var a,o,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=f.Z.get(),n.next=3,d.Z.get("/tenant/".concat(a,"/file/credentials"),{params:{filename:e,storageId:t.storage.id}});case 3:return o=n.sent,i=o.data,n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"uploadToServer",value:function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e,t){var o,i,s,l,c,u,d;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(n.prev=0,o=t.url,i=new FormData,s=0,l=Object.entries(t.fields||{});s<l.length;s++)c=(0,a.Z)(l[s],2),u=c[0],d=c[1],i.append(u,d);return i.append("file",e),n.abrupt("return",g().post(o,i,{headers:{"Content-Type":"multipart/form-data"}}));case 8:throw n.prev=8,n.t0=n.catch(0),console.error(n.t0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()}]),n}();function v(n){if(!n)return null;var e=/(?:\.([^.]+))?$/.exec(n);return e?e[1]:null}},10028:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var a=t(47313),r=t(45788),o=t(63830),i=t(10499),s=t(74165),l=t(15861),c=t(92928),u=t(33512),d=t(30124),p="PAYMENTSETTINGS_VIEW",f={FIND_STARTED:"".concat(p,"_FIND_STARTED"),FIND_SUCCESS:"".concat(p,"_FIND_SUCCESS"),FIND_ERROR:"".concat(p,"_FIND_ERROR"),doFind:function(n){return function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f.FIND_STARTED}),e.next=4,c.Z.find(n);case 4:a=e.sent,t({type:f.FIND_SUCCESS,payload:a}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),u.Z.handle(e.t0),t({type:f.FIND_ERROR}),(0,d.s1)().push("/paymentsettings");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()}},m=f,g=t(76747),b=function(n){return n.paymentsettings.view},v=(0,g.P1)([b],(function(n){return n.record})),h={selectLoading:(0,g.P1)([b],(function(n){return Boolean(n.loading)})),selectRecord:v,selectRaw:b},x=t(61567),y=t(25969),Z=t(31287),j=t(69727),w=t(46417);var k=function(n){var e=n.record;return n.loading||!e?(0,w.jsx)(x.Z,{}):(0,w.jsxs)(y.Z,{children:[(0,w.jsx)(Z.Z,{label:(0,i.ag)("entities.paymentsettings.fields.name"),value:e.name}),(0,w.jsx)(Z.Z,{label:(0,i.ag)("entities.paymentsettings.fields.information"),value:e.information}),(0,w.jsx)(Z.Z,{label:(0,i.ag)("entities.paymentsettings.fields.uniqueKeywords"),value:e.uniqueKeywords}),(0,w.jsx)(j.Z,{label:(0,i.ag)("entities.paymentsettings.fields.photo"),value:e.photo}),(0,w.jsx)(Z.Z,{label:(0,i.ag)("entities.paymentsettings.fields.text"),value:e.text}),(0,w.jsx)(Z.Z,{label:(0,i.ag)("entities.paymentsettings.fields.status"),value:e.status&&(0,i.ag)("entities.paymentsettings.enumerators.status.".concat(e.status))}),(0,w.jsx)(Z.Z,{label:(0,i.ag)("entities.paymentsettings.fields.type"),value:e.type})]})},C=t(70885),N=t(28303),S=t(23516),B=t(80009),I=t(6643),T=t(15106),E=t(44587),R=t(10419),U=t(95748);var F=function(n){var e=(0,a.useState)(!1),t=(0,C.Z)(e,2),o=t[0],s=t[1],l=(0,r.I0)(),c=n.match.params.id,u=(0,r.v9)(S.Z.selectPermissionToRead),d=(0,r.v9)(B.Z.selectPermissionToEdit),p=(0,r.v9)(B.Z.selectPermissionToDestroy),f=(0,r.v9)(T.Z.selectLoading),m=function(){s(!1)};return(0,w.jsxs)(R.Z,{children:[d&&(0,w.jsx)(N.rU,{to:"/paymentsettings/".concat(c,"/edit"),children:(0,w.jsxs)("button",{className:"btn btn-primary",type:"button",children:[(0,w.jsx)(U.Z,{iconClass:"fas fa-edit"}),(0,i.ag)("common.edit")]})}),p&&(0,w.jsxs)("button",{className:"btn btn-primary",type:"button",disabled:f,onClick:function(){s(!0)},children:[(0,w.jsx)(U.Z,{loading:f,iconClass:"fas fa-trash-alt"}),(0,i.ag)("common.destroy")]}),u&&(0,w.jsx)(N.rU,{to:"/audit-logs?entityId=".concat(encodeURIComponent(c)),children:(0,w.jsxs)("button",{className:"btn btn-light",type:"button",children:[(0,w.jsx)(U.Z,{iconClass:"fas fa-history"}),(0,i.ag)("auditLog.menu")]})}),o&&(0,w.jsx)(E.Z,{title:(0,i.ag)("common.areYouSure"),onConfirm:function(){return m(),void l(I.Z.doDestroy(c))},onClose:function(){return m()},okText:(0,i.ag)("common.yes"),cancelText:(0,i.ag)("common.no")})]})},D=t(27829),M=t(53852),P=t(75352);var _=function(){var n=(0,r.I0)(),e=(0,o.$B)(),t=(0,r.v9)(h.selectLoading),s=(0,r.v9)(h.selectRecord);return(0,a.useEffect)((function(){n(m.doFind(e.params.id))}),[n,e.params.id]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(M.Z,{items:[[(0,i.ag)("dashboard.menu"),"/"],[(0,i.ag)("entities.paymentsettings.menu"),"/paymentsettings"],[(0,i.ag)("entities.paymentsettings.view.title")]]}),(0,w.jsxs)(D.Z,{children:[(0,w.jsx)(P.Z,{children:(0,i.ag)("entities.paymentsettings.view.title")}),(0,w.jsx)(F,{match:e}),(0,w.jsx)(k,{loading:t,record:s})]})]})}},61567:function(n,e,t){t(47313);var a=t(46417);e.Z=function(){return(0,a.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:(0,a.jsx)("div",{className:"spinner-border text-primary"})})}},10419:function(n,e,t){var a,r=t(30168),o=t(38269).ZP.div(a||(a=(0,r.Z)(["\n  margin-bottom: 8px;\n\n  .btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"])));e.Z=o},25969:function(n,e,t){var a,r=t(30168),o=t(38269).ZP.div(a||(a=(0,r.Z)(["\n  .btn.btn-link {\n    padding-left: 0;\n  }\n"])));e.Z=o},89722:function(n,e,t){t.d(e,{Z:function(){return y}});var a,r,o=t(74165),i=t(42982),s=t(15861),l=t(70885),c=t(47313),u=t(6891),d=t(33512),p=t(10499),f=t(30168),m=t(38269),g=m.ZP.div(a||(a=(0,f.Z)(["\n  .img-card:hover .img-buttons {\n    display: block;\n  }\n\n  .img-buttons {\n    display: none;\n    position: relative;\n    bottom: 2.1rem;\n    width: calc(100px);\n    text-align: center;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .img-buttons * {\n    color: white;\n  }\n"]))),b=t(46417),v=m.ZP.div(r||(r=(0,f.Z)(["\n  /* The Modal (background) */\n  .modal {\n    display: block;\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0); /* Fallback color */\n    background-color: rgba(\n      0,\n      0,\n      0,\n      0.9\n    ); /* Black w/ opacity */\n  }\n\n  /* Modal Content (Image) */\n  .modal-content {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n  }\n\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\n  #caption {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n    text-align: center;\n    color: #ccc;\n    padding: 10px 0;\n    height: 150px;\n  }\n\n  /* Add Animation - Zoom in the Modal */\n  .modal-content,\n  #caption {\n    animation-name: zoom;\n    animation-duration: 0.6s;\n  }\n\n  @keyframes zoom {\n    from {\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n\n  /* The Close Button */\n  .close {\n    position: absolute;\n    top: 15px;\n    right: 35px;\n    color: #f1f1f1;\n    font-size: 40px;\n    font-weight: bold;\n    transition: 0.3s;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  /* 100% Image Width on Smaller Screens */\n  @media only screen and (max-width: 700px) {\n    .modal-content {\n      width: 100%;\n    }\n  }\n"])));var h=function(n){return(0,b.jsx)(v,{children:(0,b.jsxs)("div",{className:"modal",children:[(0,b.jsx)("span",{className:"close",onClick:n.onClose,children:"\xd7"}),(0,b.jsx)("img",{className:"modal-content",src:n.src,alt:n.alt})]})})},x=t(95748);var y=function(n){var e=(0,c.useState)(!1),t=(0,l.Z)(e,2),a=t[0],r=t[1],f=(0,c.useState)(null),m=(0,l.Z)(f,2),v=m[0],y=m[1],Z=(0,c.useRef)(),j=function(){var e=n.value;return e?Array.isArray(e)?e:[e]:[]},w=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(a=t.target.files)&&a.length){e.next=4;break}return e.abrupt("return");case 4:return s=a[0],u.Z.validate(s,{storage:n.storage,image:!0}),r(!0),e.next=9,u.Z.upload(s,{storage:n.storage,image:!0});case 9:s=e.sent,Z.current.value="",r(!1),n.onChange([].concat((0,i.Z)(j()),[s])),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(0),Z.current.value="",console.error(e.t0),r(!1),d.Z.showMessage(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(n){return e.apply(this,arguments)}}(),k=n.max,C=n.readonly,N=(0,b.jsxs)("label",{className:"btn btn-outline-secondary px-4 mb-2",style:{cursor:"pointer"},children:[(0,b.jsx)(x.Z,{loading:a,iconClass:"fas fa-plus"}),(0,p.ag)("fileUploader.upload"),(0,b.jsx)("input",{style:{display:"none"},disabled:a||C,accept:"image/*",type:"file",onChange:w,ref:Z})]});return(0,b.jsxs)(g,{children:[C||k&&j().map((function(n){return{uid:n.id||void 0,name:n.name,status:"done",url:n.downloadUrl}})).length>=k?null:N,j()&&j().length?(0,b.jsx)("div",{className:"d-flex flex-row flex-wrap",children:j().map((function(e){return(0,b.jsxs)("div",{className:"mr-2 mb-2 img-card",style:{height:"100px"},children:[(0,b.jsx)("img",{alt:e.name,src:e.downloadUrl,className:"img-thumbnail",style:{width:"100px",height:"100px",objectFit:"cover"}}),(0,b.jsxs)("div",{className:"img-buttons rounded-bottom",children:[(0,b.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){return function(n){y({src:n.downloadUrl,alt:n.name})}(e)},children:(0,b.jsx)("i",{className:"fas fa-search"})}),!C&&(0,b.jsx)("button",{type:"button",className:"btn btn-link ml-2",onClick:function(){return t=e.id,void n.onChange(j().filter((function(n){return n.id!==t})));var t},children:(0,b.jsx)("i",{className:"fas fa-times"})})]})]},e.id)}))}):null,v&&(0,b.jsx)(h,{src:v.src,alt:v.alt,onClose:function(){y(null)}})]})}},69727:function(n,e,t){t(47313);var a=t(89722),r=t(46417);e.Z=function(n){var e=function(){var e=n.value;return e?Array.isArray(e)?e:[e]:[]};return e().length?(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"col-form-label",children:n.label}),(0,r.jsx)("br",{}),(0,r.jsx)(a.Z,{readonly:!0,value:e()})]}):null}},31287:function(n,e,t){t(47313);var a=t(46417);e.Z=function(n){if(!n.value&&0!==n.value&&!1!==n.value)return null;var e="".concat(n.prefix?"".concat(n.prefix," "):"").concat(n.value);return(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{className:"col-form-label",children:n.label}),(0,a.jsx)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",value:e})]})}},99811:function(n,e,t){!function(e){var t=/^(b|B)$/,a={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},r={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function o(n){var e,o,i,s,l,c,u,d,p,f,m,g,b,v,h,x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},y=[],Z=0,j=void 0,w=void 0;if(isNaN(n))throw new TypeError("Invalid number");return o=!0===x.bits,m=!0===x.unix,e=x.base||2,f=void 0!==x.round?x.round:m?1:2,c=void 0!==x.locale?x.locale:"",u=x.localeOptions||{},g=void 0!==x.separator?x.separator:"",b=void 0!==x.spacer?x.spacer:m?"":" ",h=x.symbols||{},v=2===e&&x.standard||"jedec",p=x.output||"string",s=!0===x.fullform,l=x.fullforms instanceof Array?x.fullforms:[],j=void 0!==x.exponent?x.exponent:-1,i=2<e?1e3:1024,(d=(w=Number(n))<0)&&(w=-w),(-1===j||isNaN(j))&&(j=Math.floor(Math.log(w)/Math.log(i)))<0&&(j=0),8<j&&(j=8),"exponent"===p?j:(0===w?(y[0]=0,y[1]=m?"":a[v][o?"bits":"bytes"][j]):(Z=w/(2===e?Math.pow(2,10*j):Math.pow(1e3,j)),o&&i<=(Z*=8)&&j<8&&(Z/=i,j++),y[0]=Number(Z.toFixed(0<j?f:0)),y[0]===i&&j<8&&void 0===x.exponent&&(y[0]=1,j++),y[1]=10===e&&1===j?o?"kb":"kB":a[v][o?"bits":"bytes"][j],m&&(y[1]="jedec"===v?y[1].charAt(0):0<j?y[1].replace(/B$/,""):y[1],t.test(y[1])&&(y[0]=Math.floor(y[0]),y[1]=""))),d&&(y[0]=-y[0]),y[1]=h[y[1]]||y[1],!0===c?y[0]=y[0].toLocaleString():0<c.length?y[0]=y[0].toLocaleString(c,u):0<g.length&&(y[0]=y[0].toString().replace(".",g)),"array"===p?y:(s&&(y[1]=l[j]?l[j]:r[v][j]+(o?"bit":"byte")+(1===y[0]?"":"s")),"object"===p?{value:y[0],symbol:y[1],exponent:j}:y.join(b)))}o.partial=function(n){return function(e){return o(e,n)}},n.exports=o}("undefined"!=typeof window?window:t.g)},95162:function(n,e,t){var a;t.d(e,{Z:function(){return d}});var r=new Uint8Array(16);function o(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(n){return"string"===typeof n&&i.test(n)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var u=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(l[n[e+0]]+l[n[e+1]]+l[n[e+2]]+l[n[e+3]]+"-"+l[n[e+4]]+l[n[e+5]]+"-"+l[n[e+6]]+l[n[e+7]]+"-"+l[n[e+8]]+l[n[e+9]]+"-"+l[n[e+10]]+l[n[e+11]]+l[n[e+12]]+l[n[e+13]]+l[n[e+14]]+l[n[e+15]]).toLowerCase();if(!s(t))throw TypeError("Stringified UUID is invalid");return t};var d=function(n,e,t){var a=(n=n||{}).random||(n.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=a[r];return e}return u(a)}}}]);